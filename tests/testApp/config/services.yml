services:
    _defaults:
        public: '%public.services%'

    hbpf.database_manager_locator:
        class: Hanaboso\CommonsBundle\Database\Locator\DatabaseManagerLocator
        arguments:
            - '@doctrine_mongodb.odm.default_document_manager'
            - '@doctrine.orm.default_entity_manager'
            - '%database_type%'

    hbpf.orm_role.fixture:
        class: Hanaboso\AclBundle\DataFixtures\ORM\RoleFixtures
        tags:
            - { name: doctrine.fixture.orm }

    hbpf.acl.provider:
        class: Hanaboso\AclBundle\Provider\Impl\AclProvider
        arguments:
            - '@hbpf.database_manager_locator'
            - '@hbpf.user.provider.resource'
            - '%resource_enum%'
            - '%acl_use_cache%'
            - '%env(string:REDIS_DSN)%'
